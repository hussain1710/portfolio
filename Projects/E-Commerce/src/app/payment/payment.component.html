<div class="container payment-page">
    <h2 class="text-center mb-4">Payment</h2>
  
    <div class="row">
      <div class="col-md-8 offset-md-2">
        <h4>Your Order</h4>
        <div class="cart-items">
          <div class="cart-item" *ngFor="let item of cartItems">
            <div class="row mb-3">
              <div class="col-md-3">
                <img [src]="item.image" alt="Item Image" class="img-fluid  bordered-image">
              </div>
              <div class="col-md-6">
                <h5 class="item-title">{{ item.name }}</h5>
                <p class="item-description">{{ item.description }}</p>
              </div>
              <div class="col-md-3 text-end">
                <p class="item-price">₹ {{ item.price * (item.quantity || 1) }}</p>
              </div>
            </div>
          </div>
        </div>
        <h4 class="text-end">Total: ₹ {{ totalPrice }}</h4>
      </div>
  
      <!-- Address Details Display -->
      <div class="col-md-8 offset-md-2">
        <div class="shipping-details-card">
          <h4>Shipping Details</h4>
          <div class="mb-3">
            <p class="shipping-name"><strong>Name:</strong> {{ shippingDetails.name }}</p>
            <p class="shipping-name"><strong>Address:</strong> {{ shippingDetails.address }}</p>
            <p class="shipping-name"><strong>City:</strong> {{ shippingDetails.city }}</p>
            <p class="shipping-name"><strong>Zip Code:</strong> {{ shippingDetails.zip }}</p>
          </div>
        </div>
      </div>
  
      <!-- Payment Methods -->
      <div class="col-md-8 offset-md-2">
        <h4 class="mb-3">Select Payment Method</h4>
        <form (ngSubmit)="processPayment()" #paymentForm="ngForm">
          <!-- UPI Payment Method -->
          <div class="form-check mb-3">
            <input class="form-check-input" type="radio" name="paymentMethod" id="upi" value="UPI" [(ngModel)]="paymentDetails.method" required>
            <label class="form-check-label" for="upi">
              UPI
            </label>
            <div class="upi-options mt-3" *ngIf="paymentDetails.method === 'UPI'">
              <div class="form-check mb-2">
                <input class="form-check-input" type="radio" name="upiOption" id="googlePay" value="Google Pay" [(ngModel)]="paymentDetails.upiOption" required>
                <label class="form-check-label" for="googlePay">
                  <img src="..//../assets/icons8-google-pay-48.png" alt=""> <p>Google Pay</p>
                </label>
              </div>
              <div class="form-check mb-2">
                <input class="form-check-input" type="radio" name="upiOption" id="paytm" value="Paytm" [(ngModel)]="paymentDetails.upiOption">
                <label class="form-check-label" for="paytm">
                  <img src="..//../assets/icons8-paytm-48.png" alt=""> <p>Paytm</p>
                </label>
              </div>
              <div class="form-check mb-2">
                <input class="form-check-input" type="radio" name="upiOption" id="phonePe" value="PhonePe" [(ngModel)]="paymentDetails.upiOption">
                <label class="form-check-label" for="phonePe">
                  <img src="..//../assets/icons8-phone-pe-48.png" alt=""> <p>PhonePe</p>
                </label>
              </div>
              <div class="form-check mb-2">
                <input class="form-check-input" type="radio" name="upiOption" id="cred" value="CRED" [(ngModel)]="paymentDetails.upiOption">
                <label class="form-check-label" for="cred">
                  <img src="..//../assets/icons8-amazon-pay-32.png" alt=""> <p>Amazon Pay</p>
                </label>
              </div>
            </div>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="radio" name="paymentMethod" id="creditCard" value="Credit Card" [(ngModel)]="paymentDetails.method">
            <label class="form-check-label" for="creditCard">
              Credit Card
            </label>
            <div class="credit-card-details mt-3" *ngIf="paymentDetails.method === 'Credit Card'">
              <div class="mb-3">
                <label for="cardNumber" class="form-label">Card Number</label>
                <input type="text" id="cardNumber" class="form-control" [(ngModel)]="paymentDetails.cardNumber" name="cardNumber" required>
              </div>
              <div class="mb-3">
                <label for="cardName" class="form-label">Name on Card</label>
                <input type="text" id="cardName" class="form-control" [(ngModel)]="paymentDetails.cardName" name="cardName" required>
              </div>
              <div class="mb-3">
                <label for="expiryDate" class="form-label">Expiry Date</label>
                <input type="text" id="expiryDate" class="form-control" [(ngModel)]="paymentDetails.expiryDate" name="expiryDate" placeholder="MM/YY" required>
              </div>
              <div class="mb-3">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" id="cvv" class="form-control" [(ngModel)]="paymentDetails.cvv" name="cvv" required>
              </div>
            </div>
          </div>
          <div class="form-check mb-3">
            <input class="form-check-input" type="radio" name="paymentMethod" id="cod" value="COD" [(ngModel)]="paymentDetails.method">
            <label class="form-check-label" for="cod">
              Cash on Delivery (COD)
            </label>
          </div>
          <div class="text-center">
            <button type="submit" class="btn btn-primary" [disabled]="!paymentForm.form.valid">Place Order</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  